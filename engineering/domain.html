<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Domain | Damo</title>
    <meta name="description" content="达摩院文档平台">
    <link rel="shortcut icon" type="image/x-icon" href="/docs/favicon.ico">
  <link rel="manifest" href="/docs/manifest.json">
    
    <link rel="preload" href="/docs/assets/css/0.styles.ba6021e1.css" as="style"><link rel="preload" href="/docs/assets/js/app.bb5e32e8.js" as="script"><link rel="preload" href="/docs/assets/js/2.3b5bc873.js" as="script"><link rel="preload" href="/docs/assets/js/9.454003ec.js" as="script"><link rel="preload" href="/docs/assets/js/22.e56f6488.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.e79ac61c.js"><link rel="prefetch" href="/docs/assets/js/11.231bcbc2.js"><link rel="prefetch" href="/docs/assets/js/12.c158b58e.js"><link rel="prefetch" href="/docs/assets/js/13.4d87ce46.js"><link rel="prefetch" href="/docs/assets/js/14.7c9ff823.js"><link rel="prefetch" href="/docs/assets/js/15.6db4bdac.js"><link rel="prefetch" href="/docs/assets/js/16.a5e840e7.js"><link rel="prefetch" href="/docs/assets/js/17.ec94b3d5.js"><link rel="prefetch" href="/docs/assets/js/18.fae32894.js"><link rel="prefetch" href="/docs/assets/js/19.0616547f.js"><link rel="prefetch" href="/docs/assets/js/20.0911ce1c.js"><link rel="prefetch" href="/docs/assets/js/21.2f377134.js"><link rel="prefetch" href="/docs/assets/js/23.a4767746.js"><link rel="prefetch" href="/docs/assets/js/24.00d42de4.js"><link rel="prefetch" href="/docs/assets/js/25.e565c20f.js"><link rel="prefetch" href="/docs/assets/js/26.ba96a6e3.js"><link rel="prefetch" href="/docs/assets/js/27.11a11261.js"><link rel="prefetch" href="/docs/assets/js/28.b49aaaba.js"><link rel="prefetch" href="/docs/assets/js/29.2e6a7a2d.js"><link rel="prefetch" href="/docs/assets/js/3.b55da558.js"><link rel="prefetch" href="/docs/assets/js/30.8ea5fdcf.js"><link rel="prefetch" href="/docs/assets/js/31.bb57c422.js"><link rel="prefetch" href="/docs/assets/js/32.bc41411c.js"><link rel="prefetch" href="/docs/assets/js/33.5ad4e0f7.js"><link rel="prefetch" href="/docs/assets/js/34.e046d4c9.js"><link rel="prefetch" href="/docs/assets/js/35.9fe3872e.js"><link rel="prefetch" href="/docs/assets/js/36.ba8de101.js"><link rel="prefetch" href="/docs/assets/js/37.854a398e.js"><link rel="prefetch" href="/docs/assets/js/38.bfd940cf.js"><link rel="prefetch" href="/docs/assets/js/39.599fa4d5.js"><link rel="prefetch" href="/docs/assets/js/4.ca28c6e7.js"><link rel="prefetch" href="/docs/assets/js/40.f4157755.js"><link rel="prefetch" href="/docs/assets/js/41.d78fffc0.js"><link rel="prefetch" href="/docs/assets/js/5.d10ece1f.js"><link rel="prefetch" href="/docs/assets/js/6.b76f823f.js"><link rel="prefetch" href="/docs/assets/js/7.b57c8ee5.js"><link rel="prefetch" href="/docs/assets/js/8.bc6cdd57.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.ba6021e1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">Damo</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/platform/" class="nav-link">跨端</a></div><div class="nav-item"><a href="/docs/server/" class="nav-link">服务端</a></div><div class="nav-item"><a href="/docs/framework/" class="nav-link">框架</a></div><div class="nav-item"><a href="/docs/engineering/" class="nav-link router-link-active">工程化</a></div><div class="nav-item"><a href="/docs/render/" class="nav-link">渲染</a></div><div class="nav-item"><a href="/docs/media/" class="nav-link">互动媒体</a></div> <a href="https://github.com/Damo-web/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/platform/" class="nav-link">跨端</a></div><div class="nav-item"><a href="/docs/server/" class="nav-link">服务端</a></div><div class="nav-item"><a href="/docs/framework/" class="nav-link">框架</a></div><div class="nav-item"><a href="/docs/engineering/" class="nav-link router-link-active">工程化</a></div><div class="nav-item"><a href="/docs/render/" class="nav-link">渲染</a></div><div class="nav-item"><a href="/docs/media/" class="nav-link">互动媒体</a></div> <a href="https://github.com/Damo-web/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>文章列表</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/engineering/" class="sidebar-link">Webpack Optimization</a></li><li><a href="/docs/engineering/eslint.html" class="sidebar-link">ESLint</a></li><li><a href="/docs/engineering/stylelint.html" class="sidebar-link">StyleLint</a></li><li><a href="/docs/engineering/easymock.html" class="sidebar-link">EasyMock</a></li><li><a href="/docs/engineering/staticsite.html" class="sidebar-link">Static Site Generator</a></li><li><a href="/docs/engineering/ci.html" class="sidebar-link">CI / CD</a></li><li><a href="/docs/engineering/jenkins.html" class="sidebar-link">Jenkins CI</a></li><li><a href="/docs/engineering/drone.html" class="sidebar-link">Drone CI</a></li><li><a href="/docs/engineering/circle.html" class="sidebar-link">Circle CI</a></li><li><a href="/docs/engineering/travis.html" class="sidebar-link">Travis CI</a></li><li><a href="/docs/engineering/harbor.html" class="sidebar-link">Harbor</a></li><li><a href="/docs/engineering/build.html" class="sidebar-link">Build Optimization</a></li><li><a href="/docs/engineering/nginx.html" class="sidebar-link">Nginx</a></li><li><a href="/docs/engineering/domain.html" class="active sidebar-link">Domain</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/engineering/domain.html#前言" class="sidebar-link">前言</a></li><li class="sidebar-sub-header"><a href="/docs/engineering/domain.html#域名构成" class="sidebar-link">域名构成</a></li><li class="sidebar-sub-header"><a href="/docs/engineering/domain.html#域名注册" class="sidebar-link">域名注册</a></li><li class="sidebar-sub-header"><a href="/docs/engineering/domain.html#域名解析" class="sidebar-link">域名解析</a></li><li class="sidebar-sub-header"><a href="/docs/engineering/domain.html#域名记录" class="sidebar-link">域名记录</a></li><li class="sidebar-sub-header"><a href="/docs/engineering/domain.html#解析流程" class="sidebar-link">解析流程</a></li><li class="sidebar-sub-header"><a href="/docs/engineering/domain.html#安全扩展" class="sidebar-link">安全扩展</a></li><li class="sidebar-sub-header"><a href="/docs/engineering/domain.html#参考链接" class="sidebar-link">参考链接</a></li></ul></li><li><a href="/docs/engineering/cdn.html" class="sidebar-link">CDN</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="domain"><a href="#domain" aria-hidden="true" class="header-anchor">#</a> Domain</h1> <blockquote><p>域名是由一串用点分隔的字符组成的互联网上某一台计算机或计算机组的名称，用于在数据传输时标识计算机的电子方位。</p></blockquote> <h2 id="前言"><a href="#前言" aria-hidden="true" class="header-anchor">#</a> 前言</h2> <p>网站通常不会给用户仅提供 IP 地址来访问，常规 IPv4 地址示例为 144.202.103.102 ，要记忆它十分困难，但记住 doc.snowball.site 等域名会容易很多。只需记住语义化的域名，而不需要记住一长串难记的数字，会让网站的可访问性提升。</p> <h2 id="域名构成"><a href="#域名构成" aria-hidden="true" class="header-anchor">#</a> 域名构成</h2> <p>域名的核心是域名系统 ( Domain Name System，简称 DNS )，域名系统中的任何名称都是域名。</p> <p>域名主要分为根域名（ root domain ）、顶级域名（ top-level domain，简称 TLD ）和子域名（ sub-level domain ）三大部分。根域名，通常省略，例如 <code>www.google.com.root</code> ，常简写为 <code>www.google.com.</code> ；顶级域名，也可称为一级域名，通常为了表明该域名使用目的（ 例如 .com 、.net 、.org 及 .cn 等 ）；子域名包含除了根域名及顶级域名外的域名部分，一级一级往下，可分为三级域名、四级域名等，用以细分域名及提供多元服务。</p> <p>网络链接通常构成如下：</p> <p><img src="/docs/assets/img/domain_1.50d48b7b.png" alt=""></p> <p>如上所示，顶级域名即为 <code>.com</code> ，二级域名为 <code>google.com</code>，三级域名为 <code>www.google.com</code>。</p> <p>当购买域名时，其实是购买一个二级域名( second-level domain，缩写为 SLD )的使用权限（ 例如 snowball.site ），可以基于此域名来扩展三级域名及四级域名。</p> <h2 id="域名注册"><a href="#域名注册" aria-hidden="true" class="header-anchor">#</a> 域名注册</h2> <p>在上文中，我们概览了域名基础知识及层级结构，那我们如何购买域名（ 注册域名 ）呢？</p> <p>域名的注册由域名注册商来提供，常见的域名注册商有 <a href="https://sg.godaddy.com/zh" target="_blank" rel="noopener noreferrer">Godaddy<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://www.namesilo.com/" target="_blank" rel="noopener noreferrer">NameSilo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://www.name.com/zh-cn/" target="_blank" rel="noopener noreferrer">Name<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://wanwang.aliyun.com/domain/" target="_blank" rel="noopener noreferrer">万网<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="http://www.xinnet.com/" target="_blank" rel="noopener noreferrer">新网<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>等。需要注意的是，阿里云采用<strong>万网</strong>来注册域名，腾讯云采用<strong>新网</strong>来注册域名。</p> <p>至于如何选择域名注册商，还是要看建站的实际需求。倘若仅仅是个人站点，只关注国内可访问性，为避免备案的烦恼，可以选用国外的域名注册商；倘若是商业性的国内网站，可以选用国内的域名注册商。总之，域名注册商的选择还是看网站具体用途。</p> <p>下面以 Godaddy 为例，演示域名注册的大致流程：</p> <ul><li><p>访问 <a href="https://sg.godaddy.com/zh" target="_blank" rel="noopener noreferrer">Godaddy<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 官网，注册个人账号</p></li> <li><p>在 Godaddy 官网中搜索相应域名，添加域名进入购物车，如下：</p> <p><img src="/docs/assets/img/domain_2.d63d1b92.png" alt=""></p></li> <li><p>进入购物车页面，完成域名购买：</p> <p><img src="/docs/assets/img/domain_3.81c69b39.png" alt=""></p></li></ul> <h2 id="域名解析"><a href="#域名解析" aria-hidden="true" class="header-anchor">#</a> 域名解析</h2> <p>完成域名购买后，就拥有了域名的使用权。倘若需要将域名应用到网站，需要进行域名解析。</p> <p>域名解析通俗点来讲，就是利用域名服务器将域名指向特定 IP 地址，而这一指向过程需要在域名服务商添加域名解析记录来完成。</p> <p>以 Godaddy 为例，步骤如下：</p> <ul><li><p>在<a href="https://dcc.godaddy.com/manage/?ci=" target="_blank" rel="noopener noreferrer">域名管理器<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>页面，点击域名设置项进入 <strong>DNS 管理</strong> 页面</p> <p><img src="/docs/assets/img/domain_4.ef6a798f.png" alt=""></p></li> <li><p>查看域名服务器，如需变更可进行修改</p> <p><img src="/docs/assets/img/domain_5.6fb3f02a.png" alt=""></p></li> <li><p>添加域名解析记录</p> <p><img src="/docs/assets/img/domain_6.5fa6b06b.png" alt=""></p> <p><img src="/docs/assets/img/domain_7.1daf7ac3.png" alt=""></p></li></ul> <p>在云服务器( 104.207.130.118 )部署完应用，并且域名服务器解析完成后，便可以通过域名( video.snwoball.site )直接访问应用。</p> <h2 id="域名记录"><a href="#域名记录" aria-hidden="true" class="header-anchor">#</a> 域名记录</h2> <p>在添加域名记录时，会遇到多种类型选择，说明如下：</p> <ul><li><p>A( Address )记录：将主机名（或域名）指向一个 IPv4 地址</p> <p>主机名就是域名前缀，常见有如下三种：</p> <ul><li><p>www：解析后的域名为 www.snowball.site，一般用于网站地址。</p></li> <li><p>@：直接解析主域名。</p></li> <li><p>*：泛解析，指将 *.snowball.site 解析到同一 IP。</p></li></ul> <table><thead><tr><th>类型</th> <th style="text-align:center;">名称</th> <th style="text-align:center;">值</th> <th style="text-align:center;">TTL</th></tr></thead> <tbody><tr><td>A</td> <td style="text-align:center;">www</td> <td style="text-align:center;">144.202.103.102</td> <td style="text-align:center;">1小时</td></tr></tbody></table> <div class="tip custom-block"><p class="custom-block-title">提示</p> <p>A 记录也可以直接添加子域名至主机名来指向特定 IP 地址。</p></div></li> <li><p>CNAME（ Canonical Name ） 记录：将域名指向一个域名。</p> <table><thead><tr><th>类型</th> <th style="text-align:center;">名称</th> <th style="text-align:center;">值</th> <th style="text-align:center;">TTL</th></tr></thead> <tbody><tr><td>CNAME</td> <td style="text-align:center;">www</td> <td style="text-align:center;">doc.snowball.site</td> <td style="text-align:center;">1小时</td></tr></tbody></table> <div class="tip custom-block"><p class="custom-block-title">提示</p> <p>A 记录是把域名解析至 IP 地址，而 CNAME 记录是把域名解析至另一个域名。在应对 IP 地址易变更，或域名由第三方服务商提供时，CNAME 记录可以不需变更域名与其 IP 地址映射关系，实现无缝切换。</p></div></li> <li><p>MX（ Mail Exchanger ）记录：建立电子邮箱服务，将指向邮件服务器地址。</p> <table><thead><tr><th>类型</th> <th style="text-align:center;">名称</th> <th style="text-align:center;">值</th> <th style="text-align:center;">TTL</th></tr></thead> <tbody><tr><td>MX</td> <td style="text-align:center;">@</td> <td style="text-align:center;">mail.snowball.site（优先：10）</td> <td style="text-align:center;">1小时</td></tr></tbody></table></li> <li><p>TXT 记录：对域名进行标识和说明，可以使用 TXT 记录，绝大多数的 TXT 记录是用来做 SPF 记录（反垃圾邮件）。</p> <table><thead><tr><th>类型</th> <th style="text-align:center;">名称</th> <th style="text-align:center;">值</th> <th style="text-align:center;">TTL</th></tr></thead> <tbody><tr><td>TXT</td> <td style="text-align:center;">www</td> <td style="text-align:center;">v=spf1 a mx ~all</td> <td style="text-align:center;">1小时</td></tr></tbody></table></li> <li><p>AAAA 记录：将域名指向一个 IPv6 地址。</p> <table><thead><tr><th>类型</th> <th style="text-align:center;">名称</th> <th style="text-align:center;">值</th> <th style="text-align:center;">TTL</th></tr></thead> <tbody><tr><td>AAAA</td> <td style="text-align:center;">www</td> <td style="text-align:center;">ff06:0:0:0:0:0:0:c3</td> <td style="text-align:center;">1小时</td></tr></tbody></table></li> <li><p>CAA（ Certification Authority Authorization ）记录：</p> <p>CAA（ 证书颁发机构授权 ）用于防止域名证书劫持</p> <p>CAA记录的格式为：[flag] [tag] [value]，是由一个标志字节的[flag]和一个被称为属性的[tag]-[value]（标签-值）对组成。您可以将多个CAA字段添加到域名的DNS记录中。格式说明细节如下：</p> <table><thead><tr><th>字段</th> <th style="text-align:left;">说明</th></tr></thead> <tbody><tr><td>flag</td> <td style="text-align:left;">0-255之间的无符号整数，用于标志认证机构。通常情况下填0，表示如果颁发证书机构无法识别本条信息，就忽略。</td></tr> <tr><td>tag</td> <td style="text-align:left;">支持 issue、issuewild 和 iodef。<br>issue：CA授权单个证书颁发机构发布的任何类型域名证书。<br>issuewild：CA授权单个证书颁发机构发布主机名的通配符证书。<br>iodef：CA可以将违规的颁发记录URL发送给某个电子邮箱。</td></tr> <tr><td>value</td> <td style="text-align:left;">CA的域名或用于违规通知的电子邮箱。</td></tr></tbody></table> <p>添加记录示例如下：</p> <table><thead><tr><th>类型</th> <th style="text-align:center;">名称</th> <th style="text-align:center;">值</th> <th style="text-align:center;">TTL</th></tr></thead> <tbody><tr><td>CAA</td> <td style="text-align:center;">@</td> <td style="text-align:center;">symantec.com 0 issue</td> <td style="text-align:center;">1小时</td></tr> <tr><td>CAA</td> <td style="text-align:center;">@</td> <td style="text-align:center;">mailto:admin@snowballer0705@gmail.com 0 iodef</td> <td style="text-align:center;">1小时</td></tr></tbody></table></li> <li><p>SOA( Start of Authority )记录：用于在众多 NS 记录中标志主服务器。</p> <table><thead><tr><th>类型</th> <th style="text-align:center;">名称</th> <th style="text-align:center;">值</th> <th style="text-align:center;">TTL</th></tr></thead> <tbody><tr><td>SOA</td> <td style="text-align:center;">@</td> <td style="text-align:center;">主要域名服务器：ns51.domaincontrol.com.</td> <td style="text-align:center;">1小时</td></tr></tbody></table></li> <li><p>NS( Name Server )记录：域名解析服务器记录。</p> <table><thead><tr><th>类型</th> <th style="text-align:center;">名称</th> <th style="text-align:center;">值</th> <th style="text-align:center;">TTL</th></tr></thead> <tbody><tr><td>NS</td> <td style="text-align:center;">@</td> <td style="text-align:center;">ns51.domaincontrol.com</td> <td style="text-align:center;">1小时</td></tr> <tr><td>NS</td> <td style="text-align:center;">@</td> <td style="text-align:center;">ns52.domaincontrol.com</td> <td style="text-align:center;">1小时</td></tr></tbody></table></li> <li><p>SRV( Service Record )记录：用于指定服务器提供服务的位置（如主机名和端口）数据的记录。</p> <p>SRV 记录的格式为：</p> <ul><li>服务：服务的符号名称。</li> <li>协议：服务的传输协议，通常为TCP或UDP。</li> <li>名称：此记录生效的所在域名，以半角逗号结尾。</li> <li>主机：提供服务的规范主机名。</li> <li>优先级：目标主机的优先级，值越小越优先。</li> <li>权重：相同优先度记录的相对权重，值越大越优先。</li> <li>端口：服务所在的TCP或UDP端口。</li> <li>TTL：标准DNS存活时间值。</li></ul> <p>添加记录示例如下：</p> <table><thead><tr><th>类型</th> <th style="text-align:center;">名称</th> <th style="text-align:center;">值</th> <th style="text-align:center;">TTL</th></tr></thead> <tbody><tr><td>SRV</td> <td style="text-align:center;">_sip._tcp.snowball.site</td> <td style="text-align:center;">10 20 8080 doc.snowball.site</td> <td style="text-align:center;">1小时</td></tr></tbody></table></li> <li><p>显性 URL：一个地址重定向（ 301重定向 ）至另一个地址，需添加显性 URL 记录。</p></li> <li><p>隐性 URL：一个地址临时跳转（ 302跳转 ）至另一个地址，需添加隐性 URL 记录。</p></li></ul> <p>除各域名记录以外，还有一个需要注意的配置项：TTL（ Time To Live，即生存时间 ）。</p> <p>TTL 表示域名解析记录在 DNS 服务器中的缓存时间，时间长度单位是秒，一般为3600秒（ 即 1 小时 ）。时间设置越长，域名解析速度越快，同时相应的变换域名记录时，响应速度就会越慢。</p> <h2 id="解析流程"><a href="#解析流程" aria-hidden="true" class="header-anchor">#</a> 解析流程</h2> <p>以 doc.snowball.site 为例，DNS 解析流程图如下：</p> <p><img src="/docs/assets/img/domain_flow.f8ac0ad4.svg" alt=""></p> <p>详细步骤如下：</p> <ol><li><p>在浏览器中访问域名时，浏览器会先查询浏览器缓存中是否存在该域名的解析 IP 地址，若存在则返回对应 IP 地址</p></li> <li><p>当浏览器中无该域名的 IP 地址缓存时，会向本地 DNS 服务器（ Local DNS，可简称 LDNS ）发起域名解析请求，LDNS检查本地 DNS 缓存中若存在对应 IP 地址，则返回对应 IP 地址</p></li> <li><p>当 LDNS 中不存在对应 IP 地址缓存时，则向根 DNS 服务器发起域名查询请求</p></li> <li><p>根 DNS 服务器告知 LDNS 该域名已授权给 site 区管理，并返回 site 顶级域名服务器 IP 地址。同时将 site DNS服务器及其 IP 地址加入到 LDNS 缓存中，当缓存未过期时，LDNS 可以不通过根 DNS 服务器，直接请求 site 顶级域名服务器 IP 地址</p></li> <li><p>LDNS 向 site 顶级域名服务器发起域名查询请求</p></li> <li><p>site 顶级域名服务器告知 LDNS 该域名已授权给 snowball.site 区管理，并返回 snowball.site 二级域名服务器 IP 地址。同时将 snowball.site DNS服务器及其 IP 地址加入到 LDNS 缓存中，当缓存未过期时，LDNS 可以不通过 site 顶级域名服务器，直接请求 snowball.site 服务器 IP 地址</p></li> <li><p>LDNS 向 snowball.site 二级域名服务器发起域名查询请求</p></li> <li><p>snowball.site 二级域名服务器告知 LDNS 该域名 IP 地址，同时将该域名 IP 地址加入到 LDNS 缓存中，当缓存未过期时，LDNS 可以不通过权威 DNS 服务器，直接请求该域名 IP 地址</p></li> <li><p>浏览器缓存该域名解析后的 IP 地址，若再次请求，则无需请求 LDNS，直接返回对应 IP 地址</p></li></ol> <h2 id="安全扩展"><a href="#安全扩展" aria-hidden="true" class="header-anchor">#</a> 安全扩展</h2> <p>早期互联网环境良好，DNS 采用 UDP 协议，并没有考虑太多安全问题。正因它使用 UDP 明文通信，DNS 服务器无法验证来源，在现今互联网环境下存在DNS 欺骗、DNS Cache 污染、DNS 放大攻击等一系列问题。</p> <p>为了解决安全问题，DNSSec（ Domain Name System Security Extensions，即 DNS 安全扩展 ）应运而生，使用密码学方法，实现了资源记录的签名和验证，保证了数据通信的安全性。</p> <h2 id="参考链接"><a href="#参考链接" aria-hidden="true" class="header-anchor">#</a> 参考链接</h2> <ul><li><p><a href="https://www.zhihu.com/question/29998374" target="_blank" rel="noopener noreferrer">顶级域名 一级域名 二级域名 三级域名什么区别?<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://help.aliyun.com/document_detail/65537.html" target="_blank" rel="noopener noreferrer">阿里云 - 使用CAA记录防止域名证书劫持<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://zh.wikipedia.org/wiki/SRV%E8%AE%B0%E5%BD%95" target="_blank" rel="noopener noreferrer">维基百科 - SRV记录<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://cloud.tencent.com/document/product/302/12648" target="_blank" rel="noopener noreferrer">腾讯云 - MX记录<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://leancloudblog.com/domain-name-story-confirm/" target="_blank" rel="noopener noreferrer">域名背后那些事<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://zhuanlan.zhihu.com/p/38499577" target="_blank" rel="noopener noreferrer">DNS入门：域名解析流程详解<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/Damo-web/docs/edit/master/docs/engineering/domain.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页！</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2019-08-16 02:03:54 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/engineering/nginx.html" class="prev">Nginx</a></span> <span class="next"><a href="/docs/engineering/cdn.html">CDN</a>→
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/docs/assets/js/app.bb5e32e8.js" defer></script><script src="/docs/assets/js/2.3b5bc873.js" defer></script><script src="/docs/assets/js/9.454003ec.js" defer></script><script src="/docs/assets/js/22.e56f6488.js" defer></script>
  </body>
</html>
