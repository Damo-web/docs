<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Nginx | Damo</title>
    <meta name="description" content="达摩院文档平台">
    <link rel="shortcut icon" type="image/x-icon" href="/docs/favicon.ico">
  <link rel="manifest" href="/docs/manifest.json">
    
    <link rel="preload" href="/docs/assets/css/0.styles.ba6021e1.css" as="style"><link rel="preload" href="/docs/assets/js/app.bb5e32e8.js" as="script"><link rel="preload" href="/docs/assets/js/2.3b5bc873.js" as="script"><link rel="preload" href="/docs/assets/js/4.ca28c6e7.js" as="script"><link rel="preload" href="/docs/assets/js/22.e56f6488.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.e79ac61c.js"><link rel="prefetch" href="/docs/assets/js/11.231bcbc2.js"><link rel="prefetch" href="/docs/assets/js/12.c158b58e.js"><link rel="prefetch" href="/docs/assets/js/13.4d87ce46.js"><link rel="prefetch" href="/docs/assets/js/14.7c9ff823.js"><link rel="prefetch" href="/docs/assets/js/15.6db4bdac.js"><link rel="prefetch" href="/docs/assets/js/16.a5e840e7.js"><link rel="prefetch" href="/docs/assets/js/17.ec94b3d5.js"><link rel="prefetch" href="/docs/assets/js/18.fae32894.js"><link rel="prefetch" href="/docs/assets/js/19.0616547f.js"><link rel="prefetch" href="/docs/assets/js/20.0911ce1c.js"><link rel="prefetch" href="/docs/assets/js/21.2f377134.js"><link rel="prefetch" href="/docs/assets/js/23.a4767746.js"><link rel="prefetch" href="/docs/assets/js/24.00d42de4.js"><link rel="prefetch" href="/docs/assets/js/25.e565c20f.js"><link rel="prefetch" href="/docs/assets/js/26.ba96a6e3.js"><link rel="prefetch" href="/docs/assets/js/27.11a11261.js"><link rel="prefetch" href="/docs/assets/js/28.b49aaaba.js"><link rel="prefetch" href="/docs/assets/js/29.2e6a7a2d.js"><link rel="prefetch" href="/docs/assets/js/3.b55da558.js"><link rel="prefetch" href="/docs/assets/js/30.8ea5fdcf.js"><link rel="prefetch" href="/docs/assets/js/31.bb57c422.js"><link rel="prefetch" href="/docs/assets/js/32.bc41411c.js"><link rel="prefetch" href="/docs/assets/js/33.5ad4e0f7.js"><link rel="prefetch" href="/docs/assets/js/34.e046d4c9.js"><link rel="prefetch" href="/docs/assets/js/35.9fe3872e.js"><link rel="prefetch" href="/docs/assets/js/36.ba8de101.js"><link rel="prefetch" href="/docs/assets/js/37.854a398e.js"><link rel="prefetch" href="/docs/assets/js/38.bfd940cf.js"><link rel="prefetch" href="/docs/assets/js/39.599fa4d5.js"><link rel="prefetch" href="/docs/assets/js/40.f4157755.js"><link rel="prefetch" href="/docs/assets/js/41.d78fffc0.js"><link rel="prefetch" href="/docs/assets/js/5.d10ece1f.js"><link rel="prefetch" href="/docs/assets/js/6.b76f823f.js"><link rel="prefetch" href="/docs/assets/js/7.b57c8ee5.js"><link rel="prefetch" href="/docs/assets/js/8.bc6cdd57.js"><link rel="prefetch" href="/docs/assets/js/9.454003ec.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.ba6021e1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">Damo</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/platform/" class="nav-link">跨端</a></div><div class="nav-item"><a href="/docs/server/" class="nav-link">服务端</a></div><div class="nav-item"><a href="/docs/framework/" class="nav-link">框架</a></div><div class="nav-item"><a href="/docs/engineering/" class="nav-link router-link-active">工程化</a></div><div class="nav-item"><a href="/docs/render/" class="nav-link">渲染</a></div><div class="nav-item"><a href="/docs/media/" class="nav-link">互动媒体</a></div> <a href="https://github.com/Damo-web/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/platform/" class="nav-link">跨端</a></div><div class="nav-item"><a href="/docs/server/" class="nav-link">服务端</a></div><div class="nav-item"><a href="/docs/framework/" class="nav-link">框架</a></div><div class="nav-item"><a href="/docs/engineering/" class="nav-link router-link-active">工程化</a></div><div class="nav-item"><a href="/docs/render/" class="nav-link">渲染</a></div><div class="nav-item"><a href="/docs/media/" class="nav-link">互动媒体</a></div> <a href="https://github.com/Damo-web/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>文章列表</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/engineering/" class="sidebar-link">Webpack Optimization</a></li><li><a href="/docs/engineering/eslint.html" class="sidebar-link">ESLint</a></li><li><a href="/docs/engineering/stylelint.html" class="sidebar-link">StyleLint</a></li><li><a href="/docs/engineering/easymock.html" class="sidebar-link">EasyMock</a></li><li><a href="/docs/engineering/staticsite.html" class="sidebar-link">Static Site Generator</a></li><li><a href="/docs/engineering/ci.html" class="sidebar-link">CI / CD</a></li><li><a href="/docs/engineering/jenkins.html" class="sidebar-link">Jenkins CI</a></li><li><a href="/docs/engineering/drone.html" class="sidebar-link">Drone CI</a></li><li><a href="/docs/engineering/circle.html" class="sidebar-link">Circle CI</a></li><li><a href="/docs/engineering/travis.html" class="sidebar-link">Travis CI</a></li><li><a href="/docs/engineering/harbor.html" class="sidebar-link">Harbor</a></li><li><a href="/docs/engineering/build.html" class="sidebar-link">Build Optimization</a></li><li><a href="/docs/engineering/nginx.html" class="active sidebar-link">Nginx</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/engineering/nginx.html#前言" class="sidebar-link">前言</a></li><li class="sidebar-sub-header"><a href="/docs/engineering/nginx.html#安装指南" class="sidebar-link">安装指南</a></li><li class="sidebar-sub-header"><a href="/docs/engineering/nginx.html#静态资源服务器" class="sidebar-link">静态资源服务器</a></li><li class="sidebar-sub-header"><a href="/docs/engineering/nginx.html#http-服务器" class="sidebar-link">HTTP 服务器</a></li><li class="sidebar-sub-header"><a href="/docs/engineering/nginx.html#负载均衡" class="sidebar-link">负载均衡</a></li><li class="sidebar-sub-header"><a href="/docs/engineering/nginx.html#跨域处理" class="sidebar-link">跨域处理</a></li><li class="sidebar-sub-header"><a href="/docs/engineering/nginx.html#网站安全" class="sidebar-link">网站安全</a></li><li class="sidebar-sub-header"><a href="/docs/engineering/nginx.html#性能优化" class="sidebar-link">性能优化</a></li><li class="sidebar-sub-header"><a href="/docs/engineering/nginx.html#参考链接" class="sidebar-link">参考链接</a></li></ul></li><li><a href="/docs/engineering/domain.html" class="sidebar-link">Domain</a></li><li><a href="/docs/engineering/cdn.html" class="sidebar-link">CDN</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="nginx"><a href="#nginx" aria-hidden="true" class="header-anchor">#</a> Nginx</h1> <blockquote><p>Nginx 是一个开源的、高性能的 HTTP 服务器和 反向代理服务器，以其高性能、高稳定性、功能丰富、配置简单和资源消耗低等诸多特点而为人所知。</p></blockquote> <h2 id="前言"><a href="#前言" aria-hidden="true" class="header-anchor">#</a> 前言</h2> <p>本篇目为前端服务相关的 nginx 使用指南。</p> <h2 id="安装指南"><a href="#安装指南" aria-hidden="true" class="header-anchor">#</a> 安装指南</h2> <ol><li>查看 CentOS 版本号</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">cat</span> /etc/redhat-release
CentOS Linux release <span class="token number">7.6</span>.1810 <span class="token punctuation">(</span>Core<span class="token punctuation">)</span>
</code></pre></div><ol start="2"><li>Nginx 不在 CentOS 默认的 yum 源中，拉取官网的 yum 源到本地：</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">rpm</span> -ivh http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm
</code></pre></div><ol start="3"><li>安装 Nginx</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>$ yum <span class="token function">install</span> nginx
</code></pre></div><ol start="4"><li>启动 Nginx 服务</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 设置 nginx 开机启动并启动nginx 服务</span>
$ systemctl <span class="token builtin class-name">enable</span> nginx
$ systemctl start nginx

<span class="token comment"># 停止 nginx 服务</span>
$ systemctl stop nginx
<span class="token comment"># 重启 nginx 服务</span>
$ systemctl restart nginx
<span class="token comment"># 当配置变更后，重新加载 nginx 服务</span>
$ systemctl reload nginx
</code></pre></div><ol start="5"><li>CentOS 防火墙 firewalld 默认关闭 http 及 https 服务，需要开启对用的防火墙端口</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 国内阿里云等服务器倘若无法访问，需配置对应的安全组规则</span>
<span class="token comment"># 开启 http 服务</span>
$ firewall-cmd --zone<span class="token operator">=</span>public --permanent --add-service<span class="token operator">=</span>http
<span class="token comment"># 开启 https 服务</span>
$ firewall-cmd --permanent --zone<span class="token operator">=</span>public --add-service<span class="token operator">=</span>https
<span class="token comment"># 重启服务</span>
$ firewall-cmd --reload

<span class="token comment"># 查看已运行服务</span>
$ firewall-cmd --list-service
</code></pre></div><ol start="6"><li><p>在浏览器中访问服务器地址，如下图所示，即表示 nginx 已启动</p> <p><img src="/docs/assets/img/nginx_1.e6c4a8e6.png" alt=""></p></li></ol> <h2 id="静态资源服务器"><a href="#静态资源服务器" aria-hidden="true" class="header-anchor">#</a> 静态资源服务器</h2> <p>前后端分离后，前端以静态资源的形式提供 Web 服务，而静态资源往往不直接提供 Web 服务，通常借助于 nginx 来提供。</p> <p>最简单的静态资源服务器莫过于上方刚安装完 nginx 的欢迎页面。</p> <p>在单页面应用（ SPA ）中，构建时通过 build 生成 dist 静态资源目录，分发时再把 dist 目录下静态资源复制至 nginx 网站根目录 <code>/usr/share/nginx/html</code> 下。</p> <p>以本文档为例，流程如下：</p> <ol><li>通过 <code>yarn build</code> 生成 dist 静态资源目录，并将其复制至 <code>/usr/share/nginx/html</code></li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 复制当前路径下 dist 所有文件</span>
$ <span class="token function">cp</span> -R dist/ /usr/share/nginx/html
</code></pre></div><ol start="2"><li>因本文档部署至 github pages 下，已设置 docs 路径，需变更 dist 文件夹名称至 docs 才能正常访问</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 进入 /usr/share/nginx/html</span>
$ <span class="token builtin class-name">cd</span> /usr/share/nginx/html
<span class="token comment"># 变更文件夹名称</span>
$ <span class="token function">mv</span> dist docs
</code></pre></div><ol start="3"><li>在浏览器中访问 http://144.202.103.102/docs/ ，便可浏览静态资源服务</li></ol> <div class="tip custom-block"><p class="custom-block-title">小贴士</p> <p>倘若未配置路径，直接将 dist 文件夹的所有文件复制至 <code>/usr/share/nginx/html</code> ，浏览器直接访问 http://144.202.103.102/ 即可</p></div> <h2 id="http-服务器"><a href="#http-服务器" aria-hidden="true" class="header-anchor">#</a> HTTP 服务器</h2> <p>回顾下 Drone CI 容器化的过程，其实前端静态资源是通过运行 Docker 容器来提供 Web 服务的。示例中，分发 Web 服务器的 3080
端口提供 Web 服务，倘若不想通过端口号来访问该 Web 服务，需要在此 Web 服务器上配置 Nginx 来提供 HTTP 服务。</p> <p>当然不仅限于 Docker 容器运行的应用，基于服务器渲染（ SSR ）的应用也是同样如此。</p> <p>在 Nginx 配置文件中简单配置下 proxy_pass 即可实现，如下：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># /etc/nginx/conf.d/default.conf</span>
server <span class="token punctuation">{</span>
    listen       <span class="token number">80</span><span class="token punctuation">;</span>
    <span class="token comment"># 配置服务器信息，IP 地址或域名</span>
    server_name  <span class="token number">144.202</span>.103.102<span class="token punctuation">;</span>

    location / <span class="token punctuation">{</span>
        <span class="token comment"># 代理本地 3080 端口上的应用</span>
        proxy_pass http://144.202.103.102:3080<span class="token punctuation">;</span>
        <span class="token comment"># proxy_set_header 用以改变 http 的请求头</span>
        <span class="token comment"># 请求的主机名</span>
        proxy_set_header   Host             <span class="token variable">$host</span><span class="token punctuation">;</span>
        <span class="token comment"># 请求的真实IP</span>
        proxy_set_header   X-Real-IP        <span class="token variable">$remote_addr</span><span class="token punctuation">;</span>
        <span class="token comment"># 请求的来源</span>
        proxy_set_header   X-Forwarded-For  <span class="token variable">$proxy_add_x_forwarded_for</span><span class="token punctuation">;</span>
        root   /usr/share/nginx/html<span class="token punctuation">;</span>
        index  index.html index.htm<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    error_page   <span class="token number">500</span> <span class="token number">502</span> <span class="token number">503</span> <span class="token number">504</span>  /50x.html<span class="token punctuation">;</span>
    location <span class="token operator">=</span> /50x.html <span class="token punctuation">{</span>
        root   /usr/share/nginx/html<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>配置完成后，重启 nginx 服务器，浏览器中可用 http://144.202.103.102/docs/ 取代原有 http://144.202.103.102:3080/docs/ 来进行访问。</p> <h2 id="负载均衡"><a href="#负载均衡" aria-hidden="true" class="header-anchor">#</a> 负载均衡</h2> <p>当网站流量增大，并发增高时，仅靠一台 Web 服务器来提供服务，其实并不稳定，云服务器一旦宕机，整个网站服务就不可用了。针对这一现象，组建 Web 服务器集群，利用负载均衡技术在 Web 服务器集群间进行业务均衡，可有效改善网站服务突发不可用的状况。直白点来讲，就是将网站服务分发至多个 Web 服务器，并将客户端众多请求合理分配至相应的 Web 服务器。</p> <p><img src="/docs/assets/img/nginx_2.1a632048.png" alt=""></p> <p>假设如今有两台服务器，一台负载均衡服务器，一台普通 Web 服务器，而负载均衡服务器上也运行与普通 Web 服务器同样的 Web 应用，在负载均衡服务器安装 nginx ，<code>/etc/nginx/conf.d/default.conf</code> 文件配置如下：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 定义负载均衡服务器集群</span>
upstream balanceServer <span class="token punctuation">{</span>
    server <span class="token number">45.77</span>.119.141:3080<span class="token punctuation">;</span>
    server localhost:3080<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
server <span class="token punctuation">{</span>
    listen       <span class="token number">80</span><span class="token punctuation">;</span>
    server_name doc.snowball.site<span class="token punctuation">;</span>

    location / <span class="token punctuation">{</span>
        proxy_pass http://balanceServer<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">#error_page  404              /404.html;</span>

    <span class="token comment"># redirect server error pages to the static page /50x.html</span>
    <span class="token comment">#</span>
    error_page   <span class="token number">500</span> <span class="token number">502</span> <span class="token number">503</span> <span class="token number">504</span>  /50x.html<span class="token punctuation">;</span>
    location <span class="token operator">=</span> /50x.html <span class="token punctuation">{</span>
        root   /usr/share/nginx/html<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>配置完成后，重启 nginx 服务。</p> <p>负载均衡服务器上修改文件 <code>/usr/share/nginx/html/index.html</code> 中欢迎文字，如下：</p> <p><img src="/docs/assets/img/nginx_3.3e691d3f.png" alt=""></p> <p>普通 Web 服务器上修改文件 <code>/usr/share/nginx/html/index.html</code> 中欢迎文字，如下：</p> <p><img src="/docs/assets/img/nginx_4.997050e9.png" alt=""></p> <p>访问 http://doc.snowball.site 刷新页面时会轮替出现如下两种情况，即表示一个极简版的 nginx 负载均衡配置成功：</p> <p><img src="/docs/assets/img/nginx_5.ea3c9a5f.png" alt=""></p> <p><img src="/docs/assets/img/nginx_6.abeea8a8.png" alt=""></p> <p>当然，nginx 的负载均衡并不仅限于此，它还提供丰富的配置项，支持轮询策略（ 默认 ）、最小连接数策略、最快响应时间策略以及客户端IP地址绑定策略，这里不加赘述，详细可参阅：<a href="https://docs.nginx.com/nginx/admin-guide/load-balancer/http-load-balancer/" target="_blank" rel="noopener noreferrer">Using nginx as HTTP load balancer<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="跨域处理"><a href="#跨域处理" aria-hidden="true" class="header-anchor">#</a> 跨域处理</h2> <p>Nginx 是非常优秀的反向代理服务器，可以用它来解决浏览器跨域问题。</p> <p>假设前端域名为 fe.snowball.site ，后端域名为 api.snowball.site，根据浏览器同源策略，前端访问后端 HTTP 服务时会触发跨域问题，当然解决办法有很多，可以让后端服务器进行处理，可以利用 Webpack 中 proxy 属性来配置等，其实也可以利用 nginx 来解决。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 接口域名用 fe.snowball.site 代替 api.snowball.site</span>
<span class="token comment"># 如下配置代理，即可完成跨域</span>
server <span class="token punctuation">{</span>
    listen       <span class="token number">80</span><span class="token punctuation">;</span>
    server_name  fe.snowball.site<span class="token punctuation">;</span>
    location / <span class="token punctuation">{</span>
        root   /usr/share/nginx/html<span class="token punctuation">;</span>
        index  index.html index.htm<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment"># 匹配到 fe.snowball.site/api 请求时代理至 api.snowball.site/v1</span>
    location ^~ /api/ <span class="token punctuation">{</span>
        proxy_pass api.snowball.site/v1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="网站安全"><a href="#网站安全" aria-hidden="true" class="header-anchor">#</a> 网站安全</h2> <p>当网站以 HTTP 运行时，可能会被网络运营商劫持，在网站中植入广告代码，这种攻击方式称作为中间人攻击（ Man In The Middle Attack，可简称 MITM ），示意图如下：</p> <p><img src="/docs/assets/img/nginx_12.db82aa34.png" alt=""></p> <p>因 HTTP 是明文传输，网络运营商可以随意篡改网站信息，但倘若网站升级为 HTTPS ，采用加密传输，运营商就不能截获及篡改网站信息。</p> <p>Nginx 可以通过简单的配置，将网站升级为 HTTPS ，步骤如下：</p> <ol><li><p>CentOS7 防火墙开启 https 服务</p> <p>生成 SSL 证书时需要注意，CentOS7 默认防火墙 firewalld 关闭了 https 服务，需要进行开启：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 开启防护墙 http 服务并重启</span>
$ firewall-cmd --zone<span class="token operator">=</span>public --permanent --add-service<span class="token operator">=</span>https
$ firewall-cmd --reload
<span class="token comment"># 查看防护墙所有服务</span>
$ firewall-cmd --list-service
</code></pre></div></li> <li><p>利用 Let's Encrypt 生成工具 <a href="https://github.com/Neilpang/acme.sh" target="_blank" rel="noopener noreferrer">acme.sh<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 来签发证书</p> <ul><li>安装 acme.sh ，如下：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 生成证书需安装 socat</span>
$ yum <span class="token function">install</span> socat
<span class="token comment"># 此命令做了如下两件事</span>
<span class="token comment"># 把 acme.sh 安装到你的 home 目录下，即 ~/.acme.sh/</span>
<span class="token comment"># 创建 一个 bash 的 alias, 方便你的使用: alias acme.sh=~/.acme.sh/acme.sh</span>
<span class="token comment"># 自动为你创建 cronjob, 每天 0:00 点自动检测所有的证书, 如果快过期了, 需要更新, 则会自动更新证书</span>
$ <span class="token function">curl</span>  https://get.acme.sh <span class="token operator">|</span> <span class="token function">sh</span>
</code></pre></div><ul><li>生成 SSL 证书：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">cd</span> ~/.acme.sh/
$ <span class="token function">sh</span> acme.sh  --issue -d doc.snowball.site  --standalone
</code></pre></div><ul><li>复制证书至系统文件夹：</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 打开 /opt/ 文件夹并新建 certs 文件夹</span>
$ <span class="token builtin class-name">cd</span> /opt/ <span class="token operator">&amp;&amp;</span> <span class="token function">mkdir</span> -p certs
<span class="token comment"># 使用 --installcert 命令指定目标文件夹位置</span>
$ <span class="token builtin class-name">cd</span> ~/.acme.sh/
$ <span class="token function">sh</span> acme.sh  --installcert  -d  doc.snowball.site <span class="token punctuation">\</span>
      --key-file /opt/certs/doc.snowball.site.key <span class="token punctuation">\</span>
      --fullchain-file /opt/certs/fullchain.cer
</code></pre></div></li> <li><p>变更 nginx 配置文件</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 基础配置</span>
server <span class="token punctuation">{</span>
  listen       <span class="token number">80</span><span class="token punctuation">;</span>
  <span class="token comment"># https 配置</span>
  listen       <span class="token number">443</span> ssl<span class="token punctuation">;</span>
  server_name  doc.snowball.site<span class="token punctuation">;</span>
  <span class="token comment"># 证书</span>
  ssl_certificate  /opt/certs/fullchain.cer<span class="token punctuation">;</span>
  <span class="token comment"># 私钥</span>
  ssl_certificate_key  /opt/certs/doc.snowball.site.key<span class="token punctuation">;</span>
  <span class="token comment"># SSL 协议</span>
  ssl_protocols  TLSv1 TLSv1.1 TLSv1.2<span class="token punctuation">;</span>
  <span class="token comment"># 定义算法</span>
  ssl_ciphers  HIGH:<span class="token operator">!</span>aNULL:<span class="token operator">!</span>MD5<span class="token punctuation">;</span>

  location / <span class="token punctuation">{</span>
      root   /usr/share/nginx/html<span class="token punctuation">;</span>
    index  index.html index.htm<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>重启 nginx ，访问 https://doc.snowball.site/docs/ 即可生效</p></li></ol> <h2 id="性能优化"><a href="#性能优化" aria-hidden="true" class="header-anchor">#</a> 性能优化</h2> <ul><li><p>gzip</p> <p>gizp 是一个用于文件压缩及解压缩的应用程序，倘若不引入 gizp ，正常的 HTTP 请求流程如下：</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>但其实存在一个问题，当单个文件过大时（ 在大型项目中会出现多个单文件过大 ），而且在 HTTP/1.1 时代，TCP 的连接数有限，若先前请求没响应完成，后续请求会被阻塞，导致整体传输速度会很慢，流量也会比较大，网站速度自然不需多说。</p> <p>为解决 HTTP 文件传输过慢的问题，引入了 gizp ，HTTP 请求流程如下：</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>需要说明一点，gzip 的实现需要依赖浏览器和服务器两方面的支持：浏览器发送请求时，会在头信息中携带 <code>Accept-Encoding: gzip, deflate</code> ，告知服务器它可以接受压缩文件；服务器响应请求时，会在头信息中携带<code>Content-Encoding: gzip</code>，告知浏览器它需要处理压缩文件。示例如下：</p> <p><img src="/docs/assets/img/nginx_9.96540ded.png" alt=""></p> <p>浏览器请求时头信息中默认携带 <code>Accept-Encoding: gzip, deflate</code>，因此在需要在服务器响应时，在其头信息中携带<code>Content-Encoding: gzip</code>即可，相应 nginx 配置如下：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>server <span class="token punctuation">{</span>
  <span class="token comment"># 开启 gzip 压缩</span>
  <span class="token function">gzip</span> on<span class="token punctuation">;</span>
  <span class="token comment"># 设置 gzip 所需的 http 协议最低版本号，默认值为 HTTP/1.1</span>
  gzip_http_version <span class="token number">1.1</span><span class="token punctuation">;</span>
  <span class="token comment"># 设置压缩级别（1-9），值越大表示压缩率越高，同时消耗cpu资源也越多，建议设置在 5 左右</span>
  gzip_comp_level <span class="token number">6</span><span class="token punctuation">;</span>
  <span class="token comment"># 设置压缩的最小字节数，小文件可以不必压缩</span>
  gzip_min_length <span class="token number">1024</span><span class="token punctuation">;</span>
  <span class="token comment"># 设置缓存用于存储 gzip 压缩后的数据流，原始数据大小以 8k 为单位的 16 倍申请内存</span>
  gzip_buffers <span class="token number">16</span> 8k<span class="token punctuation">;</span>
  <span class="token comment"># 反向代理时才启用，通常根据代理服务器 header 头信息进行压缩项配置，any 表示无条件启用压缩</span>
  gzip_proxied any<span class="token punctuation">;</span>
  <span class="token comment"># 设置压缩文件的类型，默认为 text/html ，如需压缩其他类型文件需要进行开启才生效</span>
  gzip_types 
    text/plain
    text/css
    text/js
    text/xml
    text/javascript
    application/javascript
    application/json
    application/xml
    application/pdf 
    <span class="token comment"># 倘若图片已压缩优化过，则不必开启 gzip</span>
    image/gif
    image/jpeg
    image/png
    image/svg+xml<span class="token punctuation">;</span>
  <span class="token comment">#配置 gzip 禁用规则，此处表示ie6及以下不启用gzip（ 因为 IE 低版本不支持 gzip ）</span>
  gzip_disable <span class="token string">&quot;MSIE [1-6]\.&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>配置完成后，重启 nginx 即可生效。</p> <p>生效后需要进行简单的认证，通常有两种方式：</p> <ul><li>命令行</li></ul> <p>依次验证所需压缩文件是否都开启了 gzip：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">curl</span> -H <span class="token string">&quot;Accept-Encoding: gzip&quot;</span> -I http://doc.snowball.site/docs/assets/js/2.2ae119df.js
<span class="token comment"># 验证 js 文件 Content-Encoding: gzip 是否生效</span>
HTTP/1.1 <span class="token number">200</span> OK
Server: nginx/1.16.0
Date: Fri, <span class="token number">28</span> Jun <span class="token number">2019</span> 09:15:48 GMT
Content-Type: application/javascript
Last-Modified: Tue, <span class="token number">25</span> Jun <span class="token number">2019</span> <span class="token number">10</span>:55:15 GMT
Connection: keep-alive
ETag: W/<span class="token string">&quot;5d11fd93-b550&quot;</span>
Content-Encoding: <span class="token function">gzip</span>

$ <span class="token function">curl</span> -H <span class="token string">&quot;Accept-Encoding: gzip&quot;</span> -I http://doc.snowball.site/docs/assets/css/0.styles.7836021c.css
<span class="token comment"># 验证 css 文件 Content-Encoding: gzip 是否生效</span>
HTTP/1.1 <span class="token number">200</span> OK
Server: nginx/1.16.0
Date: Fri, <span class="token number">28</span> Jun <span class="token number">2019</span> 09:15:22 GMT
Content-Type: text/css
Last-Modified: Tue, <span class="token number">25</span> Jun <span class="token number">2019</span> <span class="token number">10</span>:55:15 GMT
Connection: keep-alive
ETag: W/<span class="token string">&quot;5d11fd93-60a7&quot;</span>
Content-Encoding: <span class="token function">gzip</span>

<span class="token comment"># 倘若未生效则结果如下</span>
<span class="token comment"># HTTP/1.1 200 OK</span>
<span class="token comment"># Server: nginx/1.16.0</span>
<span class="token comment"># Date: Fri, 28 Jun 2019 09:15:31 GMT</span>
<span class="token comment"># Content-Type: text/css ( application/javascript )</span>
<span class="token comment"># Content-Length: 20814</span>
<span class="token comment"># Last-Modified: Tue, 25 Jun 2019 10:55:15 GMT</span>
<span class="token comment"># Connection: keep-alive</span>
<span class="token comment"># ETag: &quot;5d11fd93-514e&quot;</span>
<span class="token comment"># Accept-Ranges: bytes</span>
</code></pre></div><ul><li>浏览器</li></ul> <p>查看对应请求文件中返回头信息中是否携带 <code>Content-Encoding: gzip</code>：</p> <p><img src="/docs/assets/img/nginx_10.759b3c35.png" alt=""></p> <p>验证完 gzip 可通过浏览器面板查看压缩率，下图中 14.1 KB 表示实际传输文件大小，45.3 KB 表示源文件大小，计算比例可知文件压缩了 70% 左右。</p> <p><img src="/docs/assets/img/nginx_11.94432791.png" alt=""></p></li> <li><p>http/2</p> <p>在 http/1.1 时代，TCP 的连接数有限，若先前请求没响应完成，后续请求会被阻塞，为解决这一问题需要采用合并请求策略。</p> <p>而 http/2 最大的优点是多路复用，即对同一域名的服务器仅需建立一次 TCP 连接，就可以加载多个资源。除此之外，使用二进制帧传输及 http 头部压缩也是其亮点。概括来说，http/2 解决了 http/1.1 时代的痛点。</p> <p>使用 HTTP/2 时，必须使用 SSL/TLS 加密，有关 HTTPS 配置信息可见上方网站安全部分。</p> <p>Nginx 相关配置如下：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>  <span class="token comment"># nginx</span>
  <span class="token comment"># 在 https 基础上追加 http/2 即可</span>
  server <span class="token punctuation">{</span>
    listen       <span class="token number">80</span><span class="token punctuation">;</span>
    <span class="token comment"># http/2 配置</span>
    listen       <span class="token number">443</span> ssl http2<span class="token punctuation">;</span>
    server_name  doc.snowball.site<span class="token punctuation">;</span>
    ssl_certificate  /opt/certs/fullchain.cer<span class="token punctuation">;</span>
    ssl_certificate_key  /opt/certs/doc.snowball.site.key<span class="token punctuation">;</span>
    ssl_protocols  TLSv1 TLSv1.1 TLSv1.2<span class="token punctuation">;</span>
    ssl_ciphers  HIGH:<span class="token operator">!</span>aNULL:<span class="token operator">!</span>MD5<span class="token punctuation">;</span>

    location / <span class="token punctuation">{</span>
        root   /usr/share/nginx/html<span class="token punctuation">;</span>
      index  index.html index.htm<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div><p>配置完成后，重启 nginx 服务器，通过浏览器面板查看请求，倘若 Protocol 栏目下显示 h2 ，则表示网站 http/2 已经生效：</p> <p><img src="/docs/assets/img/nginx_13.9983724d.png" alt=""></p></li></ul> <h2 id="参考链接"><a href="#参考链接" aria-hidden="true" class="header-anchor">#</a> 参考链接</h2> <ul><li><p><a href="https://qizhanming.com/blog/2018/08/06/how-to-install-nginx-on-centos-7" target="_blank" rel="noopener noreferrer">CentOS 7 下 yum 安装和配置 Nginx<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://zhuanlan.zhihu.com/p/68948620" target="_blank" rel="noopener noreferrer">前端开发者必备的Nginx知识<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://zhuanlan.zhihu.com/p/62264210" target="_blank" rel="noopener noreferrer">Web前端必备-Nginx知识汇总<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://betterexplained.com/articles/how-to-optimize-your-site-with-gzip-compression/" target="_blank" rel="noopener noreferrer">How To Optimize Your Site With GZIP Compression<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://www.rrfed.com/2017/02/03/https/" target="_blank" rel="noopener noreferrer">https连接的前几毫秒发生了什么<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://www.rrfed.com/2017/09/03/upgrade-to-https/" target="_blank" rel="noopener noreferrer">为什么要把网站升级到HTTPS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://aotu.io/notes/2016/08/16/nginx-https/index.html" target="_blank" rel="noopener noreferrer">Nginx 配置 HTTPS 服务器<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://www.nginx.com/blog/http2-r7/" target="_blank" rel="noopener noreferrer">HTTP/2 Now Fully Supported in NGINX Plus<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://zhuanlan.zhihu.com/p/29609078" target="_blank" rel="noopener noreferrer">怎样把网站升级到http/2<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://blog.wangriyu.wang/2018/05-HTTP2.html" target="_blank" rel="noopener noreferrer">HTTP2 详解<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/Damo-web/docs/edit/master/docs/engineering/nginx.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页！</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2019-06-28 05:46:03 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/engineering/build.html" class="prev">Build Optimization</a></span> <span class="next"><a href="/docs/engineering/domain.html">Domain</a>→
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/docs/assets/js/app.bb5e32e8.js" defer></script><script src="/docs/assets/js/2.3b5bc873.js" defer></script><script src="/docs/assets/js/4.ca28c6e7.js" defer></script><script src="/docs/assets/js/22.e56f6488.js" defer></script>
  </body>
</html>
